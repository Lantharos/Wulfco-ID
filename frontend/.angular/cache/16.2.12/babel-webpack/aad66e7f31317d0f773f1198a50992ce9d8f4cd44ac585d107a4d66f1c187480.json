{"ast":null,"code":"import _asyncToGenerator from \"D:/Wulfco/Wulfco ID 2/frontend-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Component } from '@angular/core';\nimport { config } from \"../../../config\";\nimport { WulfcoSnackbar } from \"../../../components/snackbar/wulfco-snackbar.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"ng-hcaptcha\";\nimport * as i4 from \"ngx-cookie-service\";\nimport * as i5 from \"ng-otp-input\";\nconst _c0 = () => ({\n  backgroundColor: \"var(--dl-color-maincolors-inputcolor)\",\n  borderRadius: \"8px\",\n  borderWidth: 0,\n  color: \"var(--dl-color-maincolors-headingcolor)\"\n});\nconst _c1 = a0 => ({\n  length: 6,\n  letterCase: \"Upper\",\n  inputStyles: a0,\n  containerClass: \"verify-email-otp-container\"\n});\nexport let VerifyEmail = /*#__PURE__*/(() => {\n  class VerifyEmail {\n    title;\n    meta;\n    snackbar;\n    HCaptcha;\n    cookies;\n    code = '';\n    constructor(title, meta, snackbar, HCaptcha, cookies) {\n      this.title = title;\n      this.meta = meta;\n      this.snackbar = snackbar;\n      this.HCaptcha = HCaptcha;\n      this.cookies = cookies;\n      this.title.setTitle('Verify Email');\n      this.meta.addTags([{\n        name: 'description',\n        content: 'Wulfco ID is a place where you can create one ID that you will use for all of the services created by Wulfco.'\n      }, {\n        property: 'og:title',\n        content: 'Verify Email'\n      }, {\n        property: 'og:description',\n        content: 'Wulfco ID is a place where you can create one ID that you will use for all of the services created by Wulfco.'\n      }, {\n        property: 'og:image',\n        content: 'https://aheioqhobo.cloudimg.io/v7/_playground-bucket-v2.teleporthq.io_/39ebfb3d-48ba-4ad3-b4e3-71d35b211205/70dc84ed-902e-47ba-a9d3-d75e24c32e1d?org_if_sml=1'\n      }]);\n    }\n    onChange(event) {\n      this.code = event.target.value;\n      console.log(event.target.value);\n    }\n    submit() {\n      var _this = this;\n      document.getElementById('submit').setAttribute('disabled', 'true');\n      document.getElementById('submit-text').innerHTML = '<i class=\"fa fa-circle-o-notch fa-spin\"></i>';\n      document.getElementById('submit-icon').style.display = 'none';\n      const code = this.code.toLowerCase();\n      const id = this.cookies.get('id');\n      this.HCaptcha.verify().subscribe(res => {\n        if (res) {\n          fetch(config.api_url + \"/verify-email\", {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              code,\n              id\n            })\n          }).then( /*#__PURE__*/function () {\n            var _ref = _asyncToGenerator(function* (res) {\n              if (res.status === 200) {\n                _this.snackbar.openFromComponent(WulfcoSnackbar, {\n                  data: {\n                    message: 'Your email has been verified!',\n                    type: 'success',\n                    totalTime: 5000\n                  },\n                  duration: 6000,\n                  horizontalPosition: 'center',\n                  verticalPosition: 'top',\n                  panelClass: ['wulfco-snackbar']\n                });\n                window.location.href = '/login';\n              } else if (res.status === 429) {\n                _this.snackbar.openFromComponent(WulfcoSnackbar, {\n                  data: {\n                    message: 'Too many requests!',\n                    type: 'warning',\n                    totalTime: 5000\n                  },\n                  duration: 6000,\n                  horizontalPosition: 'center',\n                  verticalPosition: 'top',\n                  panelClass: ['wulfco-snackbar']\n                });\n              } else {\n                _this.snackbar.openFromComponent(WulfcoSnackbar, {\n                  data: {\n                    message: 'An error occured!',\n                    type: 'error',\n                    totalTime: 5000\n                  },\n                  duration: 6000,\n                  horizontalPosition: 'center',\n                  verticalPosition: 'top',\n                  panelClass: ['wulfco-snackbar']\n                });\n              }\n            });\n            return function (_x) {\n              return _ref.apply(this, arguments);\n            };\n          }());\n        } else {\n          this.snackbar.openFromComponent(WulfcoSnackbar, {\n            data: {\n              message: 'Captcha Failed!',\n              type: 'error',\n              totalTime: 5000\n            },\n            duration: 6000,\n            horizontalPosition: 'center',\n            verticalPosition: 'top',\n            panelClass: ['wulfco-snackbar']\n          });\n        }\n      });\n    }\n    onsubmit = onsubmit;\n    static ɵfac = function VerifyEmail_Factory(t) {\n      return new (t || VerifyEmail)(i0.ɵɵdirectiveInject(i1.Title), i0.ɵɵdirectiveInject(i1.Meta), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.NgHcaptchaService), i0.ɵɵdirectiveInject(i4.CookieService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: VerifyEmail,\n      selectors: [[\"verify-email\"]],\n      decls: 13,\n      vars: 4,\n      consts: [[1, \"verify-email-container\"], [1, \"verify-email-container1\"], [1, \"verify-email-text\", \"notselectable\"], [1, \"verify-email-text1\", \"notselectable\"], [1, \"verify-email-container2\"], [1, \"verify-email-otp-container\", 3, \"onInputChange\", \"config\"], [\"id\", \"submit\", \"type\", \"button\", 1, \"verify-email-button\", \"button\"], [\"id\", \"submit-icon\", \"viewBox\", \"0 0 1024 1024\", 1, \"verify-email-icon\"], [\"d\", \"M426 726l384-384-60-62-324 324-152-152-60 60zM512 86q176 0 301 125t125 301-125 301-301 125-301-125-125-301 125-301 301-125z\"], [\"id\", \"submit-text\", 1, \"verify-email-text3\", 3, \"click\"]],\n      template: function VerifyEmail_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.ɵɵtext(3, \"Email Verification\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"span\", 3);\n          i0.ɵɵtext(5, \" Please enter the code sent to your email \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"ng-otp-input\", 5);\n          i0.ɵɵlistener(\"onInputChange\", function VerifyEmail_Template_ng_otp_input_onInputChange_7_listener($event) {\n            return ctx.onChange($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"button\", 6);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(9, \"svg\", 7);\n          i0.ɵɵelement(10, \"path\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(11, \"span\", 9);\n          i0.ɵɵlistener(\"click\", function VerifyEmail_Template_span_click_11_listener() {\n            return ctx.submit();\n          });\n          i0.ɵɵtext(12, \"Verify\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"config\", i0.ɵɵpureFunction1(2, _c1, i0.ɵɵpureFunction0(1, _c0)));\n        }\n      },\n      dependencies: [i5.NgOtpInputComponent],\n      styles: [\"[_nghost-%COMP%]{display:contents}.verify-email-container[_ngcontent-%COMP%]{width:100%;display:flex;overflow:auto;min-height:100vh;align-items:center;flex-direction:column;background-color:#121212}.verify-email-container1[_ngcontent-%COMP%]{inset:0;width:500px;height:300px;margin:auto;display:flex;position:absolute;align-items:center;border-radius:14px;flex-direction:column;justify-content:center;background-color:#181818}.verify-email-text[_ngcontent-%COMP%]{color:var(--dl-color-maincolors-headingcolor);width:100%;cursor:default;font-size:1.5em;text-align:center;font-family:Roboto,serif;-webkit-user-select:none;user-select:none}.verify-email-text1[_ngcontent-%COMP%]{color:#909090;width:92%;font-size:18px;align-self:center;margin-top:4%;text-align:center;font-family:Roboto,serif}.verify-email-container2[_ngcontent-%COMP%]{width:90%;display:flex;align-self:center;align-items:flex-start;margin:5% 2% 2%;flex-direction:column;justify-content:flex-start}.verify-email-text2[_ngcontent-%COMP%]{color:#909090;width:auto;font-size:18px;align-self:flex-start;font-family:Roboto;margin-left:7.5%}.verify-email-textinput[_ngcontent-%COMP%]{color:#fff;width:90%;align-self:center;margin-top:2%;font-family:Roboto;border-width:0px;border-radius:var(--dl-radius-radius-radius8);background-color:var(--dl-color-maincolors-inputcolor)}.verify-email-otp[_ngcontent-%COMP%]{color:var(--dl-color-maincolors-inputcolor);font-family:Roboto,serif;border-width:0px;border-radius:var(--dl-radius-radius-radius8);background-color:var(--dl-color-maincolors-inputcolor)}.verify-email-otp-container[_ngcontent-%COMP%]{display:flex;align-self:center;margin-top:2%;align-items:center;flex-direction:row;justify-content:space-between;all-space-treatment:stretch}.verify-email-button[_ngcontent-%COMP%]{color:#fff;width:340px;height:40px;display:flex;position:relative;align-self:center;font-style:normal;margin-top:2%;text-align:center;transition:.3s;align-items:center;font-family:Roboto;font-weight:500;line-height:1.7;border-width:0px;border-radius:var(--dl-radius-radius-radius8);flex-direction:row;justify-content:flex-start;background-color:var(--dl-color-confirmationbuttons-buttoncolor)}.verify-email-button[_ngcontent-%COMP%]:hover{background-color:var(--dl-color-confirmationbuttons-buttonhover)}.verify-email-button[_ngcontent-%COMP%]:active{background-color:var(--dl-color-confirmationbuttons-buttonactive)}.verify-email-button[_ngcontent-%COMP%]:disabled{color:transparent;background-color:var(--dl-color-confirmationbuttons-buttondisabled)}.verify-email-icon[_ngcontent-%COMP%]{fill:var(--dl-color-maincolors-headingcolor);width:22px;height:22px}.verify-email-text3[_ngcontent-%COMP%]{left:0;color:var(--dl-color-maincolors-headingcolor);right:0;bottom:5px;margin:auto;position:absolute;align-self:center}@media (max-width: 991px){.verify-email-text3[_ngcontent-%COMP%]{position:static}}@media (max-width: 479px){.verify-email-container1[_ngcontent-%COMP%]{width:95%;height:256px}.verify-email-button[_ngcontent-%COMP%]{left:0;right:0;width:85%;position:static;margin-top:6%}.verify-email-text3[_ngcontent-%COMP%]{inset:0;width:auto;height:auto;position:static}}\"]\n    });\n  }\n  return VerifyEmail;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(VerifyEmail, [{\n    type: Component,\n    args: [{\n      selector: 'verify-email',\n      template: \"<div class=\\\"verify-email-container\\\">\\n  <div class=\\\"verify-email-container1\\\">\\n    <h1 class=\\\"verify-email-text notselectable\\\">Email Verification</h1>\\n    <span class=\\\"verify-email-text1 notselectable\\\">\\n      Please enter the code sent to your email\\n    </span>\\n    <div class=\\\"verify-email-container2\\\">\\n        <ng-otp-input class=\\\"verify-email-otp-container\\\" (onInputChange)=\\\"onChange($event)\\\" [config]=\\\"{length:6, letterCase:'Upper', inputStyles: {backgroundColor:'var(--dl-color-maincolors-inputcolor)', borderRadius: '8px', borderWidth: 0, color: 'var(--dl-color-maincolors-headingcolor)'}, containerClass: 'verify-email-otp-container'}\\\"></ng-otp-input>\\n    </div>\\n    <button id=\\\"submit\\\" type=\\\"button\\\" class=\\\"verify-email-button button\\\">\\n      <svg id=\\\"submit-icon\\\" viewBox=\\\"0 0 1024 1024\\\" class=\\\"verify-email-icon\\\">\\n        <path\\n          d=\\\"M426 726l384-384-60-62-324 324-152-152-60 60zM512 86q176 0 301 125t125 301-125 301-301 125-301-125-125-301 125-301 301-125z\\\"\\n        ></path>\\n      </svg>\\n      <span id=\\\"submit-text\\\" class=\\\"verify-email-text3\\\" (click)=\\\"submit()\\\">Verify</span>\\n    </button>\\n  </div>\\n</div>\\n\",\n      styles: [\":host{display:contents}.verify-email-container{width:100%;display:flex;overflow:auto;min-height:100vh;align-items:center;flex-direction:column;background-color:#121212}.verify-email-container1{inset:0;width:500px;height:300px;margin:auto;display:flex;position:absolute;align-items:center;border-radius:14px;flex-direction:column;justify-content:center;background-color:#181818}.verify-email-text{color:var(--dl-color-maincolors-headingcolor);width:100%;cursor:default;font-size:1.5em;text-align:center;font-family:Roboto,serif;-webkit-user-select:none;user-select:none}.verify-email-text1{color:#909090;width:92%;font-size:18px;align-self:center;margin-top:4%;text-align:center;font-family:Roboto,serif}.verify-email-container2{width:90%;display:flex;align-self:center;align-items:flex-start;margin:5% 2% 2%;flex-direction:column;justify-content:flex-start}.verify-email-text2{color:#909090;width:auto;font-size:18px;align-self:flex-start;font-family:Roboto;margin-left:7.5%}.verify-email-textinput{color:#fff;width:90%;align-self:center;margin-top:2%;font-family:Roboto;border-width:0px;border-radius:var(--dl-radius-radius-radius8);background-color:var(--dl-color-maincolors-inputcolor)}.verify-email-otp{color:var(--dl-color-maincolors-inputcolor);font-family:Roboto,serif;border-width:0px;border-radius:var(--dl-radius-radius-radius8);background-color:var(--dl-color-maincolors-inputcolor)}.verify-email-otp-container{display:flex;align-self:center;margin-top:2%;align-items:center;flex-direction:row;justify-content:space-between;all-space-treatment:stretch}.verify-email-button{color:#fff;width:340px;height:40px;display:flex;position:relative;align-self:center;font-style:normal;margin-top:2%;text-align:center;transition:.3s;align-items:center;font-family:Roboto;font-weight:500;line-height:1.7;border-width:0px;border-radius:var(--dl-radius-radius-radius8);flex-direction:row;justify-content:flex-start;background-color:var(--dl-color-confirmationbuttons-buttoncolor)}.verify-email-button:hover{background-color:var(--dl-color-confirmationbuttons-buttonhover)}.verify-email-button:active{background-color:var(--dl-color-confirmationbuttons-buttonactive)}.verify-email-button:disabled{color:transparent;background-color:var(--dl-color-confirmationbuttons-buttondisabled)}.verify-email-icon{fill:var(--dl-color-maincolors-headingcolor);width:22px;height:22px}.verify-email-text3{left:0;color:var(--dl-color-maincolors-headingcolor);right:0;bottom:5px;margin:auto;position:absolute;align-self:center}@media (max-width: 991px){.verify-email-text3{position:static}}@media (max-width: 479px){.verify-email-container1{width:95%;height:256px}.verify-email-button{left:0;right:0;width:85%;position:static;margin-top:6%}.verify-email-text3{inset:0;width:auto;height:auto;position:static}}\\n\"]\n    }]\n  }], () => [{\n    type: i1.Title\n  }, {\n    type: i1.Meta\n  }, {\n    type: i2.MatSnackBar\n  }, {\n    type: i3.NgHcaptchaService\n  }, {\n    type: i4.CookieService\n  }], null);\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(VerifyEmail, {\n    className: \"VerifyEmail\",\n    filePath: \"src\\\\app\\\\pages\\\\login\\\\verify-email\\\\verify-email.component.ts\",\n    lineNumber: 14\n  });\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}